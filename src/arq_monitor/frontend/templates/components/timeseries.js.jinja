var plotDiv = document.getElementById("{{ plot_id }}");

var plotWidth = Math.floor(plotDiv.offsetWidth * 0.8);
var plotHeight = Math.floor(plotDiv.offsetWidth * 0.5);

var plotData = [
  {{ x }},
  {{ y }}
];

var plotOpts = {
  title: "{{ title_prefix }}: {{ y_label }}",
  id: "{{ plot_id }}",
  class: "my-chart",
  width: plotWidth,
  height: plotHeight,
  scales: {
    x: {
      time: {{ is_time_col }},
    },
  },
  series: [
    {
      label: "{{ x_label }}",
    },
    {
      show: true,
      spanGaps: false,
      label: "{{ y_label }}",
      stroke: "blue",
      width: 1,
    },
  ],
};

var plot = new uPlot(plotOpts, plotData, plotDiv);
